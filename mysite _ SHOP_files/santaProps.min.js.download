function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();define("santaProps/utils/propsSelectorsUtils",["lodash"],function(e){"use strict";function t(e,t,n){n=n||{};var r=e.bind(null);return r.isRequired=e.isRequired.bind(null),r.fetch=t,r.isRequired.fetch=t,n.globalId&&(r.globalId=n.globalId,r.isRequired.globalId=n.globalId),n.isGlobal&&(r.isGlobal=n.isGlobal,r.isRequired.isGlobal=n.isGlobal),r.isCompareStructuralSantaType=n.isStructural||!1,r}return{idSelector:function(t,n){return e.get(n,"structure.id")},createComponentSantaType:function(e,n,r){return t(e,n,{isStructural:r})},createGlobalSantaType:function(e,n,r){if(!r)throw"global snata type must define id";return t(e,n,{globalId:r,isGlobal:!0})},createComponentSantaTypeFetcher:function(e,t){return e.isStructural=t,e},createGlobalSantaTypesFetcher:function(e,t){if(!t)throw"global snata type must define id";return e.globalId=t,e},isComponentSantaType:function(e){return!e.isGlobal},isGlobalSantaType:function(e){return!!e.isGlobal},isCompareStructuralSantaType:function(e){return e.isCompareStructuralSantaType},getGlobalId:function(e){return e.globalId},fetch:function(e,t,n){return e.fetch(t,n)}}}),define("santaProps/propsBuilder/propsBuilderUtil",["lodash","utils","coreUtils"],function(e,t,n){"use strict";function r(e,t,n){var r=e.getSiteData();return r.getDataByQuery(t,n,r.dataTypes.PROPERTIES)||{}}function o(e,n,r){var o=n.getSiteData(),a=t.layout.getStyle(e,function(e){if(s.has(e))return s.get(e);var t=function(){return{pageMargins:e.getPageMargins(),screenWidth:e.getScreenWidth(),siteWidth:e.getSiteWidth(),siteX:e.getSiteX(),screenHeight:e.getScreenHeight()}};return s.set(e,t),t}(o),n.getLayoutMechanism());return r===o.MASTER_PAGE_ID&&(a.position=n.getSiteRootPosition()),a}function a(t,o,a,s,u){var c=t.getSiteData(),p=c.getDataByQuery(a,s,c.dataTypes.BEHAVIORS)||{};return e.get(r(t,o,s),"isHidden")?e.filter(p.items,function(t){return e.includes(i,t.action.name)}):(n.displayedOnlyStructureUtil.isDisplayedComponent(u)&&(p.items=e.map(p.items,function(t){return function(t,n){var r=e.get(n,"behavior.name");if("runCode"!==r&&"runAppCode"!==r)return n;var o=e.cloneDeep(n);return e.set(o,"action.sourceId",t),e.get(o,"behavior.params.compId")&&e.set(o,"behavior.params.compId",t),o}(u,t)})),p.items||[])}var s=new t.SiteDataPrivates,i=["viewportLeave","viewportEnter","fetchData"];return{getStyleId:function(n,r){return e.isString(n)&&!e.isEmpty(n)?n:t.santaTypes.shortenStyleId(r)},getSkin:function(e,t,n){var r=e&&n(e);return r?r.skin:t},getCompProp:r,getStyle:o,getCompData:function(e,t,n){var r=e.getSiteData();return r.getDataByQuery(t,n,r.dataTypes.DATA)},getCompDesign:function(e,t,n){var r=e.getSiteData();return r.getDataByQuery(t,n,r.dataTypes.DESIGN)},getCompBehaviors:a,getCompActions:function(e,t,n,r,o){var s=e.getSiteAspect("behaviorsAspect"),i=a(e,t,n,o,r),u=s.convertBehaviors(i,r);return s.getCompActions("comp",r,o,u)}}}),define("santaProps/fetchers/santaFetchers",["lodash","utils","loggingUtils","santaComponents","animations","santaProps/utils/propsSelectorsUtils","santaProps/propsBuilder/propsBuilderUtil"],function(e,t,n,r,o,a,s){"use strict";function i(t,n){return function(t,n){return e.includes(t,n)||"masterPage"===n}(t.getRootIdsWhichShouldBeRendered(),n)}function u(n,r,o,a){var s={};if(e.includes(p,n.componentType))return s;if(n.id===r)a.getLayoutMechanism(r)===t.constants.LAYOUT_MECHANISMS.ANCHORS&&(s.visibility="hidden"),function(t){return e.includes(["Page","Document"],t)}(n.type)&&(s.width=o.getSiteWidth(),i(a,r)||(s.display="none"));else{o.isPageLandingPage(o.getPrimaryPageId())&&"masterPage"===r&&!e.includes(c,n.componentType)?s={display:"none"}:"wysiwyg.viewer.components.PagesContainer"===n.componentType&&(s={top:0})}return s}var c=["wysiwyg.viewer.components.PageGroup","wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.QuickActionBar"],p=["wysiwyg.viewer.components.SiteBackground"];return{isMobileView:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.isMobileView()},"isMobileView"),isDebugMode:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.isDebugMode()},"isDebugMode"),isQAMode:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.isQaMode()},"isQAMode"),getRootIdsWhichShouldBeRendered:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getRootIdsWhichShouldBeRendered},"getRootIdsWhichShouldBeRendered"),isExperimentOpen:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.isExperimentOpen},"isExperimentOpen"),setCustomClickOccurred:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.setCustomClickOccurred},"setCustomClickOccurred"),siteWidth:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.getSiteWidth()},"siteWidth"),Modes:{getActiveModes:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getActiveModes},"getActiveModes"),activateModeById:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.activateModeById},"activateModeById"),deactivateModeById:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.deactivateModeById},"deactivateModeById"),switchModesByIds:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.switchModesByIds},"switchModesByIds")},SiteAspects:{windowScrollEvent:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getSiteAspect("windowScrollEvent")},"windowScrollEvent")},Component:{isCollapsed:a.createComponentSantaTypeFetcher(function(t,n){var o=t.siteAPI.getRenderFlag("componentViewMode");return!(!e.get(t.fetchSantaType(r.santaTypesDefinitions.Component.compProp,t,n),"isCollapsed")||"editor"===o)}),id:a.createComponentSantaTypeFetcher(function(t,n){return e.get(n,"structure.id")}),refInParent:a.createComponentSantaTypeFetcher(function(t,n){return e.get(n,"structure.id")}),rootId:a.createComponentSantaTypeFetcher(function(e,t){return t.rootId}),pageId:a.createComponentSantaTypeFetcher(function(e,t){return t.rootId}),compActions:a.createComponentSantaTypeFetcher(function(t,n){var r=e.get(n.structure,"propertyQuery"),o=e.get(n.structure,"behaviorQuery"),a=e.get(n.structure,"id");return s.getCompActions(t.siteAPI,r,o,a,n.rootId)}),structure:a.createComponentSantaTypeFetcher(function(e,t){return t.structure}),rootNavigationInfo:a.createComponentSantaTypeFetcher(function(e,t){return e.siteData.getExistingRootNavigationInfo(t.rootId)||t.rootNavigationInfo}),currentUrlPageId:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.getCurrentUrlPageId()},"currentUrlPage"),styleId:a.createComponentSantaTypeFetcher(function(t,n){var r=e.get(n.structure,"styleId"),o=e.get(n.structure,"skin");return s.getStyleId(r,o)}),skin:a.createComponentSantaTypeFetcher(function(t,n){var r=t.siteAPI.getDisplayedDAL(),o=t.siteAPI.getPointers(),a=e.get(n.structure,"styleId"),i=e.get(n.structure,"skin");return s.getSkin(a,i,function(e){return r.get(o.data.getThemeItem(e))})}),compProp:a.createComponentSantaTypeFetcher(function(t,n){if(n.compProp)return n.compProp;var r=e.get(n.structure,"propertyQuery");return s.getCompProp(t.siteAPI,r,n.rootId)}),compData:a.createComponentSantaTypeFetcher(function(t,n){if(n.compData)return n.compData;var r=e.get(n.structure,"dataQuery");return s.getCompData(t.siteAPI,r,n.rootId)}),renderFixedPosition:a.createComponentSantaTypeFetcher(function(t,n){var r=e.get(n.structure,"layout.fixedPosition"),o=t.siteAPI.getRenderFlag("renderFixedPositionContainers");return r&&o}),style:a.createComponentSantaTypeFetcher(function(t,n){var r=e.get(n.structure,"layout"),o=s.getStyle(r,t.siteAPI,n.structure.id,n.rootId),a=e.get(n,"structure.dimensions");(function(t){return!(!e.get(t,"layout.docked")||!t.dimensions)})(n.structure)&&function(e,t){e.width&&(e.width=t.width),e.height&&(e.height=t.height)}(o,a);var i=u(n.structure,n.rootId,t.siteData,t.siteAPI);return e.merge(o,i)}),rotationInDegrees:a.createComponentSantaTypeFetcher(function(t,n){return e.get(n.structure,"layout.rotationInDegrees")}),compBehaviors:a.createComponentSantaTypeFetcher(function(t,n){var r=e.get(n.structure,"propertyQuery"),o=e.get(n.structure,"behaviorQuery");return s.getCompBehaviors(t.siteAPI,r,o,n.rootId,n.id)}),compDynamicBehaviors:a.createComponentSantaTypeFetcher(function(t,n){return t.siteAPI.getSiteAspect("behaviorsAspect").extractBehaviors(n.structure&&e.get(n.structure,"id"))}),compDynamicBehaviorsClearAfterFlush:a.createComponentSantaTypeFetcher(function(t,n){var r=t.siteAPI.getSiteAspect("behaviorsAspect"),o=e.get(n.structure,"id");return r.clearBehaviorsAfterFlush.bind(r,o)})},Behaviors:{handleAction:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getSiteAspect("behaviorsAspect").handleAction},"handleAction"),registerBehaviors:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getSiteAspect("actionsAspect").registerBehaviors},"registerBehaviors"),setBehaviorsForActions:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getSiteAspect("behaviorsAspect").setBehaviorsForActions},"setBehaviorsForActions"),convertBehaviors:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.getSiteAspect("behaviorsAspect").convertBehaviors},"convertBehaviors")},Layout:{reLayoutIfPending:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.reLayoutIfPending},"reLayoutIfPending"),registerReLayoutPending:a.createGlobalSantaTypesFetcher(function(e){return e.siteAPI.registerReLayoutPending},"registerReLayoutPending"),registerLayoutFunc:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.registerLayoutFunc},"registerLayoutFunc")},Utils:{logging:{performance:{now:a.createGlobalSantaTypesFetcher(function(){return n.performance.now},"now")}},logger:a.createGlobalSantaTypesFetcher(function(){return t.log},"logger")},Device:{isTouchDevice:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.isTouchDevice()},"isTouchDevice"),isMobileDevice:a.createGlobalSantaTypesFetcher(function(e){return e.siteData.isMobileDevice()},"isMobileDevice")},RenderFlags:{componentPreviewState:a.createComponentSantaTypeFetcher(function(e,t){return e.siteAPI.getDisplayedDAL().getByPath(["renderFlags","componentPreviewStates",t.structure.id])})},Animations:{animationProperties:a.createComponentSantaTypeFetcher(function(){return o.animationProperties})}}}),define("santaProps/fetchers/fetchersUtils",["lodash","santaProps/fetchers/santaFetchers"],function(e,t){"use strict";return{fetch:function(n,r,o){return e.get(t,n.id)(r,o)},isCompareStructural:function(t){return e.get(t,t.id+".compareStructural",!1)},getGlobalId:function(n){return e.get(t,n.id+".globalId",null)}}}),define("santaProps/utils/santaTypesUtils",["lodash","santaProps/fetchers/fetchersUtils"],function(e,t){"use strict";function n(t){return t.id||e.isFunction(t.fetch)}function r(t){var n=function(e){for(var t=[e],n=0;n<t.length;n++){var r=t[n].mixins;r&&r.length&&t.push.apply(t,r)}return t}(t),r=e.map(n,"propTypes");return e.defaults.apply(e,[{}].concat(r))}return{resolveComponentProps:function(r,o){var a=o.siteData,s=a.getExistingRootNavigationInfo(a.getFocusedRootId()),i={fetchSantaType:t.fetch,stylesMap:o.loadedStyles,siteData:o.siteData,siteAPI:o.siteAPI},u={structure:o.structure,rootId:o.rootId,rootNavigationInfo:s,compData:o.compData},c=e.pickBy(r,n),p=e.mapValues(c,function(e){return e.fetch?e.fetch(i,u):t.fetch(e,i,u)});return e.assign(p,e.pick(o,e.keys(r)))},isSantaTypeProp:n,getPropTypesByDefinition:r,getSantaTypesByDefinition:function(t){return e.pickBy(r(t),n)}}}),define("santaProps/types/modules/DangerousSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{getSliderGalleryMeasures:r(t.func,function(e){return e.siteData.getSliderGalleryMeasures},"getSliderGalleryMeasures"),getPaginatedGridGalleryMeasures:r(t.func,function(t){return function(n){return{width:e.get(t.siteData,["measureMap","width",n]),height:e.get(t.siteData,["measureMap","height",n])}}},"getPaginatedGridGalleryMeasures"),getCustomMeasureMap:r(t.func,function(e){return function(t){return e.siteData.measureMap&&e.siteData.measureMap.custom[t]||null}},"getCustomMeasureMap"),getWindowInnerHeight:r(t.func,function(t){return function(){return e.get(t.siteData.measureMap,["innerHeight","screen"])}},"getWindowInnerHeight"),getWindowSize:r(t.func,function(t){return function(){return{width:e.get(t.siteData.measureMap,["width","screen"]),height:e.get(t.siteData.measureMap,["height","screen"])}}},"getWindowSize"),getRenderedMasterPageHeight:r(t.func,function(t){return function(){return e.get(t.siteData.measureMap,["height","masterPage"])||e.get(t.siteData.measureMap,["height","SITE_PAGES"])}},"getRenderedMasterPageHeight")}}),define("santaProps/types/modules/VerticalAnchorsMenuSantaTypes",["lodash","prop-types","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsUtils","utils"],function(e,t,n,r,o,a){"use strict";var s=o.createComponentSantaType,i=o.createGlobalSantaType,u=i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").updateInformation},"updateInformation"),c=i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").updateImageInfo},"updateImageInfo"),p=s(t.func,function(t,n){return function(){var r=t.siteData.measureMap;if(!r)return null;var o=n.structure.id,a=e.get(t.siteAPI.getAspectGlobalData("VerticalAnchorsMenuAspect"),"colorInfo",{}),s=e.assign({},a.masterPage,a[t.siteData.getFocusedRootId()]),i=t.siteAPI.getAspectGlobalData("windowScrollEvent")||{x:0,y:0};return function(t,n,r,o,a){var s=a+r.absoluteTop[t],i=r.height[t],u=r.absoluteLeft[t]+o,c=r.width[t],p=e(n).omitBy(function(e){return!e.layout||e.alpha<.1}).filter(function(e){var t=e.layout,n=t.top-i/2,r=t.top+t.height-i/2;return s>=n&&s<=r&&u+c/2<=t.left+t.width&&u>=t.left}).sortBy(function(e){return e.layout.width*e.layout.height}).head();return e.get(p,"brightness",null)}(o,s,r,t.siteData.getSiteX(),i.y)}}),l=s(t.object,function(t,o){var a=e.get(t.siteAPI.getAspectGlobalData("VerticalAnchorsMenuAspect"),"anchorsData",[]),s=r.fetch(n.santaTypesDefinitions.Component.compData,t,o),i=t.siteData.getPrimaryPageId(),u=e.get(s,["hiddenAnchorIds",i],[]),c=e.reject(a,function(t){return e.includes(u,t.activeAnchorComp.compId)});return e.every(c,{activeAnchorComp:{y:0}})?null:e.findLast(c,"isActive")},!0),d=s(t.func,function(t,o){return function(){var s=t.siteData.getPrimaryPageId(),i=r.fetch(n.santaTypesDefinitions.Component.compData,t,o),u=a.scrollAnchors.getPageAnchors(t.siteData,s,i.pageTopLabel),c=function(e,t){var n=null;return e.hiddenAnchorIds&&t&&(n=e.hiddenAnchorIds[t]),n}(i,s),p=e.filter(u,function(t){return!e.includes(c,t.compId)});return 0===e.size(p)&&p.push(u[0]),e.map(p,function(n){var r=e.clone(n);return r.type="AnchorLink",r.anchorDataId=n,r.pageId=t.siteData.getDataByQuery(s),r})}});return{updateInformation:u,updateImageInfo:c,registerToMeanColor:i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").registerToMeanColor},"registerToMeanColor"),unregisterToMeanColor:i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").unregisterToMeanColor},"unregisterToMeanColor"),getOverlappingBackgroundBrightness:p,activeAnchor:l,getAnchorLinkItems:d,registerToActiveAnchor:i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").registerToActiveAnchor},"registerToActiveAnchor"),unregisterToActiveAnchor:i(t.func,function(e){return e.siteAPI.getSiteAspect("VerticalAnchorsMenuAspect").unregisterToActiveAnchor},"unregisterToActiveAnchor")}}),define("santaProps/types/modules/BrowserSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";var n=t.createGlobalSantaType;return{browser:n(e.object,function(e){return e.siteData.getBrowser()},"browser"),os:n(e.object,function(e){return e.siteData.getOs()},"os"),isAndroidOldBrowser:n(e.bool,function(e){return e.siteData.mobile.isAndroidOldBrowser()},"isAndroidOldBrowser"),browserFlags:n(e.object,function(e){return e.siteData.browserFlags()},"browserFlags")}}),define("santaProps/types/modules/ComponentSantaTypes",["prop-types","lodash","utils","santaProps/utils/propsSelectorsUtils","santaProps/propsBuilder/propsBuilderUtil"],function(e,t,n,r,o){"use strict";var a=r.createComponentSantaType,s=r.createGlobalSantaType,i=a(e.object,function(e,n){var r=t.get(n.structure,"designQuery");return o.getCompDesign(e.siteAPI,r,n.rootId)}),u=a(e.func,function(e){return function(t,n){e.siteData.registerLayoutFunc(t,n)}}),c=a(e.object,function(e,n){var r=e.siteData,o=t.get(n.structure,"styleId");return r.getDataByQuery(o,r.MASTER_PAGE_ID,r.dataTypes.THEME)}),p=a(e.oneOfType([e.array]),function(e,n){var r=t.get(n.structure,"behaviorQuery");return t.get(e.siteData.getDataByQuery(r,n.rootId,e.siteData.dataTypes.BEHAVIORS),"items")}),l=a(e.string,r.idSelector),d=s(e.string,function(e){return e.siteData.getCurrentUrlPageTitle()},"currentUrlPageTitle"),g=a(e.bool,function(e,n){var r=t.get(n.structure,"id");return t.includes(e.siteData.componentsToRender,r)}),f=a(e.number,function(e,n){return t.get(n.structure,"layout.scale")}),m=a(e.shape({x:e.number.isRequired,y:e.number.isRequired,width:e.number.isRequired,height:e.number.isRequired}),function(e,n){return t.get(n,"structure.dimensions")}),y=a(e.object,function(e,t){return e.siteAPI.getMeshStyles(t.rootId,t.id||t.rootId)}),P=a(e.bool,function(e,n){var r=t.get(n.structure,"dataQuery");return e.siteData.getMasterPageDataByQuery(r)});return{scale:f,key:l,ref:l,currentUrlPageTitle:d,dimensions:m,styleIdBySkin:function(t){return a(e.string,function(){return n.santaTypes.shortenStyleId(t)})},compStaticBehaviors:p,compDesign:i,registerLayoutFunc:u,meshStyles:y,theme:c,styleParam:function(n){return a(e.any,function(e,r){var o=c.fetch(e,r);return t.get(o,["style","properties",n])})},componentToRender:g,compMasterPageData:P}}),define("santaProps/types/modules/DeviceSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";var n=t.createGlobalSantaType;return{devicePixelRatio:n(e.number,function(e){return e.siteData.mobile.getDevicePixelRatio()},"devicePixelRatio"),isTabletDevice:n(e.bool,function(e){return e.siteData.isTabletDevice()},"isTabletDevice"),isDesktopDevice:n(e.bool,function(e){return!e.siteData.isTouchDevice()},"isDesktopDevice")}}),define("santaProps/types/modules/HtmlPostMessage",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{registerComponent:r(t.func,function(e){return e.siteAPI.getSiteAspect("HtmlPostMessageAspect").registerComponent},"registerComponent"),unRegisterComponent:r(t.func,function(e){return e.siteAPI.getSiteAspect("HtmlPostMessageAspect").unRegisterComponent},"unRegisterComponent")}}),define("santaProps/types/modules/LinkSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils","coreUtils"],function(e,t,n,r){"use strict";return{linkRenderInfo:(0,n.createGlobalSantaType)(t.shape({primaryPageId:t.string,currentUrl:t.object,currentUrlPageId:t.string,urlFormat:t.string,mainPageId:t.string,externalBaseUrl:t.string,unicodeExternalBaseUrl:t.string,publicBaseUrl:t.string,isFeedbackEndpoint:t.bool,isSiteHistoryEndpoint:t.bool,isViewerMode:t.bool,isWixSite:t.bool,isTemplate:t.bool,isUsingSlashUrlFormat:t.bool,isPremiumDomain:t.bool,serviceTopology:t.shape({staticDocsUrl:t.string,basePublicUrl:t.string,baseDomain:t.string}),routersConfigMap:t.object,allPageIds:t.array,pagesDataItemsMap:t.object,mapFromPageUriSeoToPageId:t.object,permalinksMap:t.object,rootNavigationInfo:t.object}),function(e){return r.wixUrlParser.utils.getResolvedSiteData(e.siteData)},"linkRenderInfo")}}),define("santaProps/types/modules/PinterestSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";return{data:(0,n.createComponentSantaType)(t.object,function(e,t){return e.siteAPI.getAspectComponentData("PinterestWidgetPostMessageAspect",t.structure.id)||{}})}}),define("santaProps/utils/dataFetchUtil",["lodash"],function(e){"use strict";return{get:function(t,n){var r=t.siteAPI.getDisplayedDAL();return n=e.isArray(n)?n:[n],r.getByPath(n)}}}),define("santaProps/types/modules/SiteMembersSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils","santaProps/utils/dataFetchUtil"],function(e,t,n,r){"use strict";var o=n.createGlobalSantaType,a="siteMembers",s=["termsOfUse","privacyPolicy","codeOfConduct"],i=o(t.object,function(t){var n=e.get(t.siteData.getDataByQuery("masterPage"),["smSettings"],{});return e.forEach(s,function(r){if(n[r]&&n[r].link){var o=t.siteData.getDataByQuery(n[r].link);e.set(n,[r,"linkData"],o)}}),n},"smSettings"),u=o(t.bool,function(e){return e.siteAPI.getRenderFlag("isSiteMembersDialogsOpenAllowed")},"isSiteMembersDialogsOpenAllowed"),c=o(t.string,function(e){return e.siteData.getServiceTopologyProperty("siteMembersUrl")},"siteMembersUrl"),p=o(t.string,function(e){return r.get(e,["currentUrl","query","forgotPasswordToken"])},"forgotPasswordToken"),l=o(t.string,function(e){return e.siteAPI.getSiteAspect(a).aspectState.read("dialogToDisplay")},"dialogToDisplay"),d=o(t.func,function(e){return e.siteAPI.getSiteAspect(a).getMemberDetails},"getMemberDetails"),g=o(t.string,function(e){return e.siteAPI.getSiteAspect(a).getMemberDetails()},"getMemberDetails"),f=o(t.string,function(e){return e.siteAPI.getSiteAspect(a).getMemberDetailsInPreview()},"getMemberDetails");return{smSettings:i,isSiteMembersDialogsOpenAllowed:u,siteMembersUrl:c,forgotPasswordToken:p,dialogToDisplay:l,isLoggedIn:o(t.bool,function(e){return e.siteAPI.getSiteAspect(a).isLoggedIn()},"isLoggedIn"),logout:o(t.func,function(e){return e.siteAPI.getSiteAspect(a).logout},"logout"),showAuthenticationDialog:o(t.func,function(e){return e.siteAPI.getSiteAspect(a).showAuthenticationDialog},"showAuthenticationDialog"),getMemberDetails:d,memberDetails:g,memberDetailsInPreview:f,reportSiteMembersBi:o(t.func,function(e){return e.siteAPI.getSiteAspect(a).reportSiteMembersBi},"reportSiteMembersBi"),registerToMemberDetailsChange:o(t.func,function(e){return e.siteAPI.getSiteAspect(a).registerToMemberDetailsChange},"registerToMemberDetailsChange"),unRegisterMemberDetailsChange:o(t.func,function(e){return e.siteAPI.getSiteAspect(a).unRegisterMemberDetailsChange},"unRegisterMemberDetailsChange")}}),define("santaProps/types/modules/RenderFlagsSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createComponentSantaType,o=n.createGlobalSantaType,a=function(n,o){return r(o||t.bool,function(t,r){return e.includes(t.siteAPI.getRenderFlag(n),r.structure.id)})},s=function(e,t){return o(t,function(t){return t.siteAPI.getRenderFlag(e)},"renderFlag_"+e)},i=function(e){return o(t.bool,function(t){return!!t.siteAPI.getRenderFlag(e)},"renderFlag_"+e)};return{all:o(t.object,function(e){var t=e.siteAPI.getDisplayedDAL(),n=e.siteAPI.getPointers().general.getRenderFlags();return t.get(n)},"all"),componentViewMode:s("componentViewMode",t.string),hideSiteBackground:i("hideSiteBackground"),isComponentVisible:function(e,n){return r(n||t.bool,function(t,n){return t.siteAPI.getDisplayedDAL().getByPath(["renderFlags",e,n.structure.id])})}("componentVisibility"),isPlayingAllowed:i("isPlayingAllowed"),isZoomAllowed:i("isZoomAllowed"),isExternalNavigationAllowed:i("isExternalNavigationAllowed"),shouldResetComponent:i("shouldResetComponent"),renderFixedPositionContainers:i("renderFixedPositionContainers"),renderFixedPositionBackgrounds:i("renderFixedPositionBackgrounds"),isTinyMenuOpenAllowed:i("isTinyMenuOpenAllowed"),isSocialInteractionAllowed:i("isSocialInteractionAllowed"),shouldBlockGoogleMapInteraction:i("shouldBlockGoogleMapInteraction"),shouldResetTinyMenuZIndex:i("shouldResetTinyMenuZIndex"),shouldResetSlideShowNextPrevButtonsPosition:i("shouldResetSlideShowNextPrevButtonsPosition"),shouldResetSubscribeFormMinMaxWidth:i("shouldResetSubscribeFormMinMaxWidth"),isBackToTopButtonAllowed:i("isBackToTopButtonAllowed"),isSlideShowGalleryClickAllowed:i("isSlideShowGalleryClickAllowed"),shouldResetGalleryToOriginalState:i("shouldResetGalleryToOriginalState"),showControllers:i("showControllers"),siteScale:s("siteScale",t.number),isWixAdsAllowed:i("isWixAdsAllowed"),allowShowingFixedComponents:i("allowShowingFixedComponents"),showHiddenComponents:i("showHiddenComponents"),ignoreComponentCollapsedProperty:a("ignoreComponentsCollapsedProperty"),ignoreComponentHiddenProperty:a("ignoreComponentsHiddenProperty")}}),define("santaProps/types/modules/MemberLoginSantaTypes",["lodash","prop-types","utils","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/types/modules/SiteMembersSantaTypes","santaProps/types/modules/RenderFlagsSantaTypes","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r,o,a,s,i){"use strict";function u(e,t){var n=o.fetch(r.santaTypesDefinitions.Component.compData,e,t);if(n){if(n.type===m)return n;if(n.loginSocialBarRef)return n.loginSocialBarRef}return null}function c(t,n){var r=u(t,n);return e.isObject(r)&&r.type===m}function p(t,r,o){if(c(t,r)){var a=u(t,r),s=e.get(a,[o,"menuRef","items"],null);if(e.isArray(s))return n.menuUtils.getMenuItems(s,t.siteData,!0,r.rootNavigationInfo,!1)}return null}function l(t,n){if(t.siteData.isViewerMode())return!1;var a=s.componentViewMode.fetch(t,n),i=o.fetch(r.santaTypesDefinitions.RenderFlags.componentPreviewState,t,n);return("editor"===a||"preview"===a)&&!e.includes(i,f.LOGGED_OUT)}function d(e,t){return l(e,t)||a.isLoggedIn.fetch(e,t)}var g=i.createComponentSantaType,f={LOGGED_IN:"loggedIn",LOGGED_IN_MENU_OPENED:"loggedInMenuOpened",LOGGED_OUT:"loggedOut"},m="LoginSocialBar",y=g(t.string,function(t,n){var r=u(t,n);return e.get(r,"language")||"en"}),P=g(t.bool,function(e,t){return c(e,t)}),h=g(t.bool,function(e,t){return d(e,t)});return{language:y,memberName:g(t.string,function(t,n){var r=u(t,n),o="";if(c(t,n)&&d(t,n)){o=r.showLoggedInText?r.loggedInText+" ":"";var s=l(t,n)?a.memberDetailsInPreview.fetch(t,n):a.memberDetails.fetch(t,n);s&&(o+=e.get(s,"attributes.nickname")||e.get(s,"attributes.name")||s.name||s.email)}return o}),memberAvatar:g(t.string,function(t,n){var r=null;if(c(t,n)&&d(t,n)){var o=l(t,n)?a.memberDetailsInPreview.fetch(t,n):a.memberDetails.fetch(t,n);r=e.get(o,"attributes.imageUrl",null)}return r}),memberDefaultAvatar:g(t.string,function(e,t){if(c(e,t)){if("textOnly"!==u(e,t).loggedInMember)return"3d84bae5ad4d4d8a96de15e9f4b79a08.svg"}return null}),isLoggedIn:h,isConnectedToLoginData:P,menuItems:g(t.array,function(e,t){return p(e,t,"menuItemsRef")}),iconItems:g(t.array,function(e,t){return p(e,t,"iconItemsRef")})}}),define("santaProps/types/modules/AnchorChangeSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{activeAnchorData:r(t.object,function(e){return{activeAnchor:e.siteAPI.getAspectGlobalData("anchorChangeEvent")||null}},"activeAnchorData"),activeAnchorId:r(t.object,function(t){var n=t.siteAPI.getAspectGlobalData("anchorChangeEvent");return{activeAnchorId:e.get(n,["activeAnchorComp","id"],null)}},"activeAnchorId")}}),define("santaProps/types/modules/AppControllerSantaTypes",["prop-types","lodash","utils","coreUtils","santaProps/utils/propsSelectorsUtils","santaProps/utils/dataFetchUtil"],function(e,t,n,r,o){"use strict";function a(e,t){var n=t.structure.id,r=e.siteAPI.getRuntimeDal().getCompData(n),o=r.controllerType,a=r.applicationId;if(!e.siteAPI.getAppManifest(a))return i;var s=e.siteAPI.getControllerState(n);return e.siteAPI.getControllerStageData(a,o,s)}var s=o.createComponentSantaType,i=-1;return{isVisible:s(e.bool,function(e,t){var n=a(e,t),o=n!==i;return r.appManifest.controllerStageData.isControllerVisible(n,o)}),applicativeUIData:function(e){return s(e,function(e,r){var o=a(e,r);return o===i?null:t.assign({},function(e){return{icon:n.media.getMediaUrl(e.serviceTopology,"/appController/controller-unicorn.svg")}}(e.siteData),o)})}}}),define("santaProps/types/modules/ThemeSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";var n=t.createGlobalSantaType;return{all:n(e.object,function(e){return e.siteData.getAllTheme()},"allTheme"),colors:n(e.array,function(e){return e.siteData.getColorsMap()},"themeColor"),colorsMap:n(e.array,function(e){return e.siteData.getColorsMap()},"colorsMap"),THEME_DATA:n(e.object,function(e){return e.siteData.getGeneralTheme()},"THEME_DATA")}}),define("santaProps/types/modules/VectorImageSantaTypes",["lodash","prop-types","coreUtils","siteUtils","utils","color","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsUtils","santaProps/types/modules/ComponentSantaTypes","santaProps/types/modules/ThemeSantaTypes","santaProps/types/modules/LinkSantaTypes","santaProps/types/modules/MemberLoginSantaTypes"],function(e,t,n,r,o,a,s,i,u,c,p,l,d){"use strict";function g(t){var n="false"!==t.enableStroke&&!!t.enableStroke?parseInt(e.get(t,"strokeWidth",1)+"px",10):0;return e(t).omit("enableStroke").set("strokeWidth",n).value()}function f(t,n,r,u,c){var l=i.fetch(s.santaTypesDefinitions.Component.id,t,n),d=p.colorsMap.fetch(t,n),g=C.getSvgString(t.siteData,r)||"",f=E.fetch(t,n);return g=function(t,n,r){var o=r+"-svgtitle",a=t.replace(w,'$1 role="img"$2');return e.isString(n)&&(a=a.replace(w,'$1 aria-labelledby="'+o+'"$2<title id="'+o+'">'+n+"</title>")),a}(g,e.get(u,"alt"),l),f===A.TINT&&(g=function(e,t,n){var r=o.colorParser.getColor(t,e),s=new a(r),i=void 0;return n.replace(F,function(e,t){var n=new a(t);if(function(e){return e.red()===e.green()&&e.red()===e.blue()&&255!==e.red()}(n)){var r=1-(255-n.red())/255,o=Math.floor(s.red()+(255-s.red())*r),u=Math.floor(s.green()+(255-s.green())*r),c=Math.floor(s.blue()+(255-s.blue())*r);return'fill="'+(i=new a({red:o,green:u,blue:c})).hexString()+'"'}return'fill="'+t+'"'})}(e.get(c,["overrideColors","color1"],v.color1),d,g)),g}function m(t,n,r){var o=y(t,n,r);return e.get(o,["svgType"],A.SHAPE)}function y(e,t,n){return C.getSvgInfo(e.siteData,n)||{}}function P(t,n,r,a){var s=[],i=e.get(r,"overrideColors");if(a===A.COLOR&&!e.isEmpty(i)){var u=p.colorsMap.fetch(t,n),c=e.template('svg [data-color="${colorIndex}"] {fill: ${colorValue};}\n');s=e.map(i,function(e,t){var n=o.colorParser.getColor(u,e),r=t.replace("color","");return c({colorIndex:r,colorValue:n})})}return s}function h(t,n,r,a,s){var i=e.clone(e.get(r,"shapeStyle",{})),u=e.mapKeys(a,function(e,t){return T[t]}),c=void 0;if(s===A.SHAPE){var l=p.colorsMap.fetch(t,n),d=["opacity","fillOpacity","strokeOpacity"];i.fill=e.get(r,["overrideColors","color1"],v.color1),c=e(u).defaults(i,I).thru(g).mapValues(function(t,n){var r=t;return e.includes(d,n)?r=parseFloat(t):M.test(t)&&(r=o.colorParser.getColor(l,t)),r}).mapKeys(function(e,t){return"opacity"===t?"fillOpacity":t}).value()}else c={opacity:e.get(u,"opacity",e.get(i,"opacity",b.opacity))};return c}function S(t,n){var r=i.fetch(s.santaTypesDefinitions.Component.compData,t,n),o=c.compDesign.fetch(t,n);return e.isEmpty(o)?r:o}var A=o.svg.SVG_TYPES,v=o.svg.COLOR_DEFAULT,I=o.svg.SHAPE_STYLE_DEFAULTS,b=o.svg.ART_STYLE_DEFAULTS,T=o.svg.SKIN_STYLE_KEYS_MAP,D=u.createComponentSantaType,C=n.siteDataUtils,M=/^color_([0-9]{1,2}|100)$/,w=/(<svg[^>]*)(>)/,F=/fill="(.*?)"/gi,U=D(t.object,function(t,n){var o=i.fetch(s.santaTypesDefinitions.Component.compData,t,n),a=l.linkRenderInfo.fetch(t,n),u=i.fetch(s.santaTypesDefinitions.Component.rootNavigationInfo,t,n),c=e.get(o,"link");return c?r.linkRenderer.renderLink(c,a,u):null}),B=D(t.number,function(t,n){var r=c.theme.fetch(t,n),o=e.get(r,["style","properties","strokewidth"],0);return parseInt(o,10)}),R=D(t.string,function(t,n){var r=i.fetch(s.santaTypesDefinitions.Component.compData,t,n);return e.get(r,["svgId"],"")}),k=D(t.string,function(e,t){var n=i.fetch(s.santaTypesDefinitions.Component.compData,e,t),r=S(e,t),o=R.fetch(e,t);return o?f(e,t,o,n,r):""}),L=D(t.string,function(e,t){var n=i.fetch(s.santaTypesDefinitions.Component.skin,e,t),r=i.fetch(s.santaTypesDefinitions.Component.compData,e,t);return n?f(e,t,n,r):""}),E=D(t.string,function(e,t){var n=R.fetch(e,t);return n?m(e,t,n):""}),G=D(t.object,function(e,t){var n=R.fetch(e,t);return n?y(e,0,n):{}}),O=D(t.object,function(e,t){var n=i.fetch(s.santaTypesDefinitions.Component.skin,e,t);return n?y(e,0,n):{}}),x=D(t.array,function(t,n){var r=S(t,n),o=E.fetch(t,n);return e.get(r,"overrideColors")?P(t,n,r,o):[]}),_=D(t.object,function(t,n){var r=e.get(c.theme.fetch(t,n),["style","properties"]),o=S(t,n),a=R.fetch(t,n),s=E.fetch(t,n);return a?h(t,n,o,r,s):{}}),j=D(t.object,function(t,n){var r={},o=d.memberDefaultAvatar.fetch(t,n);o&&(r[o]={svgId:o,preserveViewBox:!0});var a=d.iconItems.fetch(t,n);a&&e.isArray(a)&&e.forEach(a,function(t){var n=e.get(t,"iconRef.svgId");n&&(r[n]={svgId:n,preserveViewBox:!0})});var s=e.get(c.theme.fetch(t,n),["style","properties"]);return e.forEach(r,function(o,a){var i=m(t,n,a),u=y(t,0,a);r[a]=e.assign(r[a],{svgString:f(t,n,a,null),svgType:i,svgInfo:u,overrideColorsAsCss:P(t,n,null,i),shapeStyle:h(t,n,null,s)})}),e.isEmpty(r)?null:r}),N=D(t.object,function(t,n){var r=c.compDesign.fetch(t,n)||{};return e.reduce(r.icons,function(a,s){var i=e.merge({},r.iconsDefaultDesign,s.designOverrides),u=s.svgId,c=m(t,n,u),p=y(t,0,u);return a[s.name]={style:{},svgType:c,svgInfo:p,svgId:u,svgString:f(t,n,u,null,i),overrideColorsAsCss:P(t,n,i,c),shapeStyle:h(t,n,i,null,c),compProp:{displayMode:o.imageUtils.fittingTypes.SCALE_TO_FIT}},a},{})});return{svgId:R,link:U,strokeWidth:B,svgString:k,svgInfo:G,legacySvgString:L,legacySvgInfo:O,svgType:E,overrideColorsAsCss:x,shapeStyle:_,svgPropsForMemberLoginIconItems:j,svgPropsMapForMediaControls:N}}),define("santaProps/types/modules/RenderRealtimeConfigSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createComponentSantaType;return{previewTooltipCallback:(0,n.createGlobalSantaType)(t.func,function(e){return e.siteAPI.getRenderRealtimeConfigItem("previewTooltipCallback")},"previewTooltipCallback"),shouldHideTextComponent:r(t.bool,function(t,n){return!e.isNil(n.structure.id)&&e.isEqual(t.siteAPI.getRenderRealtimeConfigItem("hideTextComponent"),n.structure.id)}),shouldHideComponent:r(t.bool,function(t,n){return e.includes(t.siteAPI.getRenderRealtimeConfigItem("compsToHide"),n.structure.id)}),shouldShowComponentOnTop:r(t.bool,function(t,n){return e.includes(t.siteAPI.getRenderRealtimeConfigItem("compsToShowOnTop"),n.structure.id)}),componentOpacity:r(t.number,function(t,n){var r=t.siteAPI.getRenderRealtimeConfigItem("compsToShowWithOpacity")||{};return e.includes(r.compIds,n.structure.id)?r.opacity:null})}}),define("santaProps/types/modules/MobileTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";var n=t.createGlobalSantaType,r=n(e.bool,function(e){return e.siteData.mobile.cannotHideIframeWithinRoundedCorners()},"cannotHideIframeWithinRoundedCorners"),o=n(e.func,function(e){return e.siteData.mobile.isZoomed},"isZoomed"),a=n(e.func,function(e){return e.siteData.mobile.isZoomedIn},"isZoomedIn"),s=n(e.func,function(e){return e.siteData.mobile.getInvertedZoomRatio},"getInvertedZoomRatio"),i=n(e.func,function(e){return e.siteData.mobile.isPortrait},"isPortrait"),u=n(e.func,function(e){return e.siteData.mobile.isLandscape},"isLandscape");return{cannotHideIframeWithinRoundedCorners:r,isZoomed:o,isZoomedIn:a,getInvertedZoomRatio:s,isAndroidOldBrowser:n(e.bool,function(e){return e.siteData.mobile.isAndroidOldBrowser()},"isAndroidOldBrowser"),isPortrait:i,isLandscape:u}}),define("santaProps/types/modules/NavigationTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{updateUrlIfNeeded:r(t.func,function(e){return e.siteAPI.updateUrlIfNeeded},"updateUrlIfNeeded"),href:r(t.func,function(e){return e.siteAPI.href},"href"),navigateToRenderedLink:r(t.func,function(e){return e.siteAPI.navigateToRenderedLink},"navigateToRenderedLink")}}),define("santaProps/types/modules/ServiceTopologySantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils","santaProps/utils/dataFetchUtil"],function(e,t,n){"use strict";var r=t.createGlobalSantaType,o=r(e.string,function(e){return e.siteData.getStaticMediaUrl()},"staticMediaUrl"),a=r(e.string,function(e){return e.siteData.getStaticVideoUrl()},"staticVideoUrl"),s=r(e.string,function(e){return e.siteData.getStaticHTMLComponentUrl()},"staticHTMLComponentUrl");return{staticMediaUrl:o,staticVideoUrl:a,getMediaFullStaticUrl:r(e.func,function(e){return e.siteData.getMediaFullStaticUrl},"getMediaFullStaticUrl"),serviceTopology:r(e.object,function(e){return n.get(e,"serviceTopology")},"serviceTopology"),getStaticHTMLComponentUrl:s,staticHTMLComponentUrl:s}}),define("santaProps/types/modules/SiteAspectsSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";var n=t.createGlobalSantaType,r=n(e.object,function(e){return e.siteAPI.getSiteAspect("windowTouchEvents")},"windowTouchEvents"),o=n(e.object,function(e){return e.siteAPI.getSiteAspect("windowKeyboardEvent")},"windowKeyboardEvent"),a=n(e.object,function(e){return e.siteAPI.getSiteAspect("windowClickEventAspect")},"windowClickEventAspect"),s=n(e.object,function(e){return e.siteAPI.getSiteAspect("viewportChange")},"viewportChangeAspect"),i=n(e.object,function(e){return e.siteAPI.getSiteAspect("siteScrollingBlocker")},"siteScrollingBlocker"),u=n(e.object,function(e){return e.siteAPI.getSiteAspect("siteMembers")},"siteMembers"),c=n(e.object,function(e){return e.siteAPI.getSiteAspect("windowFocusEvents")},"windowFocusEvents"),p=n(e.object,function(e){return e.siteAPI.getSiteAspect("windowResizeEvent")},"windowResizeEvent"),l=n(e.object,function(e){return e.siteAPI.getSiteAspect("anchorChangeEvent")},"anchorChangeEvent"),d=n(e.object,function(e){return e.siteAPI.getSiteAspect("externalScriptLoader")},"externalScriptLoader");return{siteMembers:u,siteScrollingBlocker:i,svSessionChangeEvent:n(e.object,function(e){return e.siteAPI.getSiteAspect("svSessionChangeEvent")},"svSessionChangeEvent"),siteMetadataChangeAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("siteMetadataChangeAspect")},"siteMetadataChangeAspect"),windowFocusEvents:c,windowKeyboardEvent:o,windowTouchEvents:r,windowResizeEvent:p,windowClickEventAspect:a,viewportChangeAspect:s,anchorChangeEvent:l,externalScriptLoader:d,mediaAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("mediaAspect")},"mediaAspect"),actionsAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("actionsAspect")},"actionsAspect"),designDataChangeAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("designDataChangeAspect")},"designDataChangeAspect"),tpaComponentsDomAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("tpaComponentsDomAspect")},"tpaComponentsDomAspect"),tpaPageNavigationAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("tpaPageNavigationAspect")},"tpaPageNavigationAspect"),dynamicClientSpecMapAspect:n(e.object,function(e){return e.siteAPI.getSiteAspect("dynamicClientSpecMap")},"dynamicClientSpecMapAspect")}}),define("santaProps/types/modules/RequestModelSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{cookie:r(t.string,function(t){return e.get(t.siteData,"requestModel.cookie")},"cookie"),language:r(t.string,function(t){return e.get(t.siteData,"requestModel.language")},"language")}}),define("santaProps/types/modules/PublicModelSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";return{externalBaseUrl:(0,n.createGlobalSantaType)(t.string,function(t){return e.get(t.siteData,"publicModel.externalBaseUrl")},"externalBaseUrl")}}),define("santaProps/types/modules/AspectComponentSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{addComponent:r(t.func,function(e){return e.siteAPI.getSiteAspect("addComponent").addComponent},"addComponent"),deleteComponent:r(t.func,function(e){return e.siteAPI.getSiteAspect("addComponent").deleteComponent},"deleteComponent")}}),define("santaProps/types/modules/SocialShareHandlerSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils","siteUtils"],function(e,t,n,r){"use strict";var o=n.createGlobalSantaType;return{handleShareRequest:o(t.func,function(t){return e.memoize(t,function(e){return e.siteData})}(function(e){return r.socialShareHandler.handleShareRequest.bind(r.socialShareHandler,e.siteAPI)}),"handleShareRequest"),shortenURL:o(t.func,function(){return r.socialShareHandler.shortenURL},"shortenURL")}}),define("santaProps/types/modules/ActivitySantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils","santaProps/utils/dataFetchUtil"],function(e,t,n,r){"use strict";return{activityInfo:(0,n.createGlobalSantaType)(t.shape({currentUrl:t.object,hubSecurityToken:t.string,metaSiteId:t.string,svSession:t.string,baseUrl:t.string}),function(e){return{currentUrl:r.get(e,"currentUrl"),hubSecurityToken:e.siteData.getHubSecurityToken(),metaSiteId:e.siteData.getMetaSiteId(),svSession:e.siteData.getSvSession(),baseUrl:e.siteData.getExternalBaseUrl()}},"activityInfo")}}),define("santaProps/types/modules/BrowserFlagsSantaTypes",["lodash","prop-types","coreUtils","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r){"use strict";var o=r.createGlobalSantaType,a=n.siteDataUtils;return e.transform(["fixedBackgroundColorBalata","fixedSiteBackground","highlightAnchorsInMenu","positionFixedShouldBeAbsoluteAtPageBottom","playMobileVideoInline","cssFiltersSupported"],function(e,n){e[n]=o(t.bool,function(e){return a.getBrowserFlag(e.siteData,n)},n)},{})}),define("santaProps/types/modules/MediaSantaTypes",["lodash","prop-types","santaComponents","santaProps/fetchers/fetchersUtils","coreUtils","santaProps/utils/propsSelectorsUtils","santaProps/types/modules/ComponentSantaTypes"],function(e,t,n,r,o,a,s){"use strict";function i(e,t){return s.compDesign.fetch(e,t)||r.fetch(n.santaTypesDefinitions.Component.compData,e,t)}function u(t){var n=t.siteData.getCurrentUrlPageId(),r=t.siteData.getDataByQuery(n),o=t.siteData.isMobileView()?"mobile":"desktop",a=e.get(r,["pageBackgrounds",o,"ref"])||{},s=e.get(t.siteData.getRootNavigationInfo(),"pageBackgroundColorOverride");return s&&(a.color=s),{background:a,mediaSizing:e.get(r,["pageBackgrounds",o,"mediaSizing"],"")}}function c(t,o){var a=r.fetch(n.santaTypesDefinitions.Component.compData,t,o),s=t.siteData.isMobileView()?"mobile":"desktop";return{background:e.get(a,["pageBackgrounds",s,"ref"])}}function p(t,n){var r=e.get(t,["background","mediaRef"])||{};return"WixVideo"===r.type?e.get(d(n,r.videoId),"mediaQuality")||function(t){var n=e(t.qualities).map("quality").reduce(function(e,t){return parseInt(t,10)>parseInt(e,10)?t:e},"0");return parseInt(y,10)<parseInt(n,10)?y:n}(r):null}function l(t){var n=e.get(t,["background","mediaRef"]),r={media:{video:[],image:[]}};if("WixVideo"===e.get(n,["type"])){var o=e.isEmpty(n.qualities)?["poster"]:["poster","video"];r.media.video=o}return r}function d(e,t){var n=e.getPointers().general.getMediaQualityItemPointer(t);return e.getDisplayedDAL().get(n)}var g=a.createComponentSantaType,f=a.createGlobalSantaType,m=o.siteDataUtils,y="1080p",P=g(t.string,function(e,t){return p(i(e,t),e.siteAPI)}),h=g(t.string,function(e,t){return m.getMediaStore(e.siteData,t.structure.id)}),S=f(t.func,function(e){return function(t){return d(e.siteAPI,t)}},"getMediaQualityState"),A=f(t.object,u,"siteBackgroundData"),v=f(t.string,function(e){return p(u(e),e.siteAPI)},"siteBackgroundMediaQuality"),I=g(t.object,c),b=g(t.string,function(e,t){return p(c(e,t),e.siteAPI)}),T=g(t.object,function(e,t){return l(c(e,t))}),D=f(t.object,function(e){return e.siteData.getGlobalImageQuality()},"globalImageQuality");return{mediaQuality:P,renderParts:g(t.object,function(e,t){return l(i(e,t))},"renderParts"),globalImageQuality:D,mediaState:h,getMediaQualityState:S,SiteBackground:{data:A,mediaQuality:v,renderParts:g(t.object,function(e){return l(u(e))},"siteBackgroundRenderParts")},Popup:{data:I,mediaQuality:b,renderParts:T}}}),define("santaProps/types/modules/MediaControlsSantaTypes",["lodash","prop-types","coreUtils","santaProps/utils/propsSelectorsUtils","santaProps/types/modules/ComponentSantaTypes"],function(e,t,n,r,o){"use strict";var a=n.siteDataUtils;return{iconsDescriptor:(0,r.createComponentSantaType)(t.object,function(t,n){var r=o.theme.fetch(t,n),s=e.get(r,["style","properties"]),i=e.pickBy(s,function(t){return e.startsWith(t,"svgshape")});return e.mapValues(i,function(e){return a.getSvgString(t.siteData,e)||"<svg><g></g></svg>"})})}}),define("santaProps/types/modules/MenuSantaTypes",["lodash","prop-types","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsUtils","utils"],function(e,t,n,r,o,a){"use strict";var s=o.createComponentSantaType,i=s(t.array,function(e,t){return a.menuUtils.getSiteMenuWithRender(e.siteData,t.rootNavigationInfo,!1)});return{siteMenuWithRenderForTinyMenu:s(t.array,function(e,t){return a.menuUtils.getSiteMenuWithRender(e.siteData,t.rootNavigationInfo,!1,e.siteData.isMobileView())}),siteMenuWithRender:i,menuItems:s(t.array,function(e,t){var o=r.fetch(n.santaTypesDefinitions.Component.compData,e,t),s=o&&o.menuRef?o.menuRef.id:"CUSTOM_MAIN_MENU";return a.menuUtils.getMenuById(s,e.siteData,!1,t.rootNavigationInfo,!1)})}}),define("santaProps/types/modules/WixUserSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";return{userLanguage:(0,n.createGlobalSantaType)(t.string,function(e){return e.siteData.getUserLanguage()},"userLanguage")}}),define("santaProps/utils/contactForm/ContactFormSantaTypesConfig.json",[],function(){return{COMP_DATA_TRANSLATIONS_KEYS:["nameFieldLabel","emailFieldLabel","phoneFieldLabel","addressFieldLabel","subjectFieldLabel","messageFieldLabel","errorMessage","successMessage","validationErrorMessage"],OLD_MODEL_FIELDS_ORDERED_BY_SKIN:{"contactform.FieldAnimationSkin":["name","email","subject","phone","address","message"],"contactform.FullWidthButtonSkin":["name","email","subject","phone","address","message"],"contactform.LineOnlySkin":["name","email","subject","phone","address","message"],"contactform.OverlappingButtonSkin":["name","email","subject","phone","address","message"],"wysiwyg.viewer.skins.contactform.BasicContactFormSkin":["name","email","phone","address","subject","message"],"wysiwyg.viewer.skins.contactform.DefaultContactForm":["name","email","phone","address","subject","message"],"wysiwyg.viewer.skins.contactform.VerticalForm":["name","email","phone","address","subject","message"],"wysiwyg.viewer.skins.contactform.VerticalFormLabelsLeft":["name","email","phone","address","subject","message"]},OLD_MODEL_DEFAULT_PROPS:{hidden_emailFieldLabel:!0,hidden_nameFieldLabel:!0,hidden_phoneFieldLabel:!1,hidden_addressFieldLabel:!1,hidden_subjectFieldLabel:!0,hidden_messageFieldLabel:!0,required_emailFieldLabel:!0,required_nameFieldLabel:!0,required_phoneFieldLabel:!1,required_addressFieldLabel:!1,required_subjectFieldLabel:!1,required_messageFieldLabel:!1}}}),define("santaProps/utils/contactForm/oldModelHelper",["lodash","santaProps/utils/contactForm/ContactFormSantaTypesConfig.json"],function(e,t){"use strict";return{preprocessCompProp:function(n){return e.isEmpty(n)?e.clone(t.OLD_MODEL_DEFAULT_PROPS):n},createFieldsFromModel:function(e,n,r){return(t.OLD_MODEL_FIELDS_ORDERED_BY_SKIN[r]||[]).map(function(t,r){var o=function(e){return e+"FieldLabel"}(t);return{index:r,fieldType:t,fieldLabel:e[o],required:n["required_"+o],hidden:n["hidden_"+o]}})}}}),define("santaProps/utils/contactForm/newModelHelper",["lodash"],function(e){"use strict";return{isNewModel:function(t){var n=e.get(t,"dynamicFields");return n&&!e.isEmpty(n)},createFieldsFromModel:function(t){return(t.dynamicFields||[]).map(function(t,n){var r={index:n};return t?e.assign(r,{fieldType:t.name,fieldLabel:t.displayLabel,required:t.required,hidden:!0}):e.assign(r,{required:!1,hidden:!1}),r})}}}),define("santaProps/types/modules/ContactFormSantaTypes",["lodash","prop-types","santaComponents","santaProps/fetchers/fetchersUtils","coreUtils","santaProps/utils/propsSelectorsUtils","santaProps/types/modules/WixUserSantaTypes","santaProps/utils/contactForm/ContactFormSantaTypesConfig.json","santaProps/utils/contactForm/oldModelHelper","santaProps/utils/contactForm/newModelHelper"],function(e,t,n,r,o,a,s,i,u,c){"use strict";function p(t,a){var p=r.fetch(n.santaTypesDefinitions.Component.compData,t,a),l=s.userLanguage.fetch(t),d={isNewModel:c.isNewModel(p),compData:function(t,n){var r=o.translationsLoader.getTranslationAllKeys("contactFormTranslations",n),a=e.merge(e.pick(r,i.COMP_DATA_TRANSLATIONS_KEYS),{textDirection:"left"});return e.defaults(e.clone(t),a)}(p,l)};if(!(d.isNewModel||t.siteAPI.isExperimentOpen("sv_contactFormFinalMigration")&&d.isNewModel)){var g=r.fetch(n.santaTypesDefinitions.Component.compProp,t,a);d.compProp=u.preprocessCompProp(g)}return d}var l=a.createComponentSantaType;return{orderedFields:l(t.array,function(e,t){return function(e,t,n){return e.isNewModel||n.siteAPI.isExperimentOpen("sv_contactFormFinalMigration")&&e.isNewModel?c.createFieldsFromModel(e.compData):u.createFieldsFromModel(e.compData,e.compProp,t)}(p(e,t),r.fetch(n.santaTypesDefinitions.Component.skin,e,t),e)}),errorMessage:l(t.string,function(t,n){var r=p(t,n);return e.get(r.compData,"errorMessage")}),validationErrorMessage:l(t.string,function(t,n){var r=p(t,n);return e.get(r.compData,"validationErrorMessage")}),isDynamicContactForm:l(t.bool,function(e,t){var n=p(e,t);return!!(n.isNewModel||e.siteAPI.isExperimentOpen("sv_contactFormFinalMigration")&&n.isNewModel)})}}),define("santaProps/types/modules/RendererModelTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils","santaProps/utils/dataFetchUtil"],function(e,t,n,r){"use strict";var o=n.createGlobalSantaType,a=o(t.string,function(t){return e.get(t,"siteData.rendererModel.geo")},"geo"),s=o(t.string,function(t){return e.get(t,"siteData.rendererModel.siteMetaData.contactInfo")},"contactInfo"),i=o(t.string,function(t){return e.get(t,"siteData.rendererModel.siteMetaData.quickActions.configuration")},"configuration"),u=o(t.string,function(e){return r.get(e,["rendererModel","userId"])},"userId"),c=o(t.string,function(t){return e.get(t,"siteData.rendererModel.siteMetaData.quickActions.colorScheme")},"colorScheme"),p=o(t.string,function(t){return e.get(t,"siteData.rendererModel.siteMetaData.quickActions.socialLinks")},"socialLinks"),l=o(t.string,function(e){return r.get(e,["rendererModel","metaSiteId"])},"metaSiteId"),d=o(t.bool,function(e){return r.get(e,["rendererModel","useSandboxInHTMLComp"])},"useSandboxInHTMLComp"),g=o(t.string,function(e){return r.get(e,["rendererModel","siteInfo","siteId"])},"siteId");return{geo:a,siteMetaData:{contactInfo:s,quickActions:{configuration:i,socialLinks:p,colorScheme:c}},documentType:o(t.string,function(e){return r.get(e,["rendererModel","siteInfo","documentType"])},"documentType"),siteTitleSEO:o(t.string,function(e){return r.get(e,["rendererModel","siteInfo","siteTitleSEO"])},"siteTitleSEO"),userId:u,metaSiteId:l,useSandboxInHTMLComp:d,siteId:g,clientSpecMap:o(t.object,function(e){return r.get(e,["rendererModel","clientSpecMap"])},"clientSpecMap"),languageCode:o(t.string,function(e){return r.get(e,["rendererModel","languageCode"])},"languageCode"),siteMediaToken:o(t.string,function(e){return e.siteData.getSiteMediaToken()},"siteMediaToken"),premiumFeatures:o(t.array,function(e){return r.get(e,["rendererModel","premiumFeatures"])},"premiumFeatures"),multilingual:o(t.object,function(e){return r.get(e,["rendererModel","siteMetaData","multilingual"])},"multilingual")}}),define("santaProps/types/modules/AudioSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createComponentSantaType,o=n.createGlobalSantaType,a=r(t.bool,function(t,n){var r=t.siteAPI.getAspectGlobalData("AudioAspect");return e.get(r,["nowPlayingComp"])===n.structure.id}),s=o(t.bool,function(t){var n=t.siteAPI.getAspectGlobalData("AudioAspect");return!!e.get(n,["isSoundManagerOnResetup"])},"isSoundManagerOnResetup"),i=o(t.bool,function(t){var n=t.siteAPI.getAspectGlobalData("AudioAspect");return!!e.get(n,["soundManagerReady"])},"soundManagerReady"),u=o(t.func,function(e){return e.siteAPI.getSiteAspect("AudioAspect").updatePlayingComp},"updatePlayingComp"),c=o(t.func,function(e){return e.siteAPI.getSiteAspect("AudioAspect").updatePausingComp},"updatePausingComp");return{isPlaying:a,isSoundManagerOnResetup:s,soundManagerReady:i,createAudioObj:o(t.func,function(e){return e.siteAPI.getSiteAspect("AudioAspect").createAudioObj},"createAudioObj"),updatePlayingComp:u,updatePausingComp:c,onHTML5ErrorTryToReloadWithFlash:o(t.func,function(e){return e.siteAPI.getSiteAspect("AudioAspect").onHTML5ErrorTryToReloadWithFlash},"onHTML5ErrorTryToReloadWithFlash")}}),define("santaProps/types/modules/StoreSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";return{loadBatch:(0,t.createGlobalSantaType)(e.func,function(e){return e.siteData.store.loadBatch.bind(e.siteData.store)},"loadBatch")}}),define("santaProps/types/modules/ColumnsContainerSantaTypes",["lodash","prop-types","santaProps/propsBuilder/propsBuilderUtil","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r){"use strict";return{childrenData:(0,r.createComponentSantaType)(Object.freeze(t.objectOf(t.shape({id:t.string.isRequired,width:t.number.isRequired,height:t.number.isRequired,alignment:t.number.isRequired}))),function(t,r){var o=t.siteAPI.getPointers(),a=o.components.getPage(r.rootId,t.siteData.getViewMode());return e.reduce(r.structure.components,function(s,i){var u=o.components.getComponent(i,a);return e.set(s,i,function(e,t,r){var o=e.getDisplayedDAL(),a=e.getPointers(),s=o.get(a.getInnerPointer(r,["layout"])),i=o.get(a.getInnerPointer(r,["propertyQuery"])),u=o.get(a.getInnerPointer(a.data.getPropertyItem(i,t),["alignment"])),c=n.getStyle(s,e,r.id,t);return{id:r.id,width:s.width,height:c.height,alignment:u}}(t.siteAPI,r.rootId,u))},{})},!0)}}),define("santaProps/types/modules/QuickActionsSantaTypes",["lodash","prop-types","coreUtils","siteUtils","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/types/modules/ComponentSantaTypes","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r,o,a,s,i){"use strict";var u=n.siteDataUtils,c=i.createComponentSantaType;return{dynamicActions:(0,i.createGlobalSantaType)(t.array,function(t){var n=t.siteAPI.getAspectGlobalData("QuickActionBarAspect").dynamicActions;return e.map(n,function(n){var o=e.find(r.constants.SUPPORTED_DYNAMIC_ACTIONS,{appId:n.appId});return e.assign(e.pick(o,["text","color","itemType"]),e.pick(n,["enabled","notificationCount","appId","color"]),{svgString:u.getSvgString(t.siteData,"svgshape.v2.Svg_"+o.icon)})})},"dynamicActions"),structuredAction:c(t.object,function(t,n){var r=a.fetch(o.santaTypesDefinitions.Component.compData,t,n),i=s.styleParam("color").fetch(t,n);return e.assign({},e.pick(r,["text","link","itemType"]),{color:i},{svgString:u.getSvgString(t.siteData,"svgshape.v2.Svg_"+r.icon)})})}}),define("santaProps/types/modules/NonPageItemZoom",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createGlobalSantaType;return{zoom:r(t.func,function(e){return e.siteAPI.getSiteAspect("nonPageItemZoom").zoom},"zoom"),unzoom:r(t.func,function(e){return e.siteAPI.getSiteAspect("nonPageItemZoom").unzoom},"unzoom"),currentItem:r(t.object,function(e){return e.siteAPI.getAspectGlobalData("nonPageItemZoom")},"currentItem")}}),define("santaProps/types/modules/TPASantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";var r=n.createComponentSantaType,o=n.createGlobalSantaType;return{data:r(t.shape({isModalOpen:t.bool,queryParams:t.object}),function(t,n){var r=t.siteAPI.getAspectGlobalData("tpaModalAspect"),o=t.siteAPI.getAspectComponentData("tpaCompStateAspect",e.get(n,"structure.id"));return{isModalOpen:!!e.get(r,"modalStructure"),queryParams:e.get(o,"queryParams")}}),showModal:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaModalAspect").showModal},"showModal"),removeModal:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaModalAspect").removeModal},"removeModal"),showPopup:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPopupAspect").showPopup},"showPopup"),removePopup:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPopupAspect").removePopup},"removePopup"),removeAllPopups:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPopupAspect").removeAllPopups},"removeAllPopups"),deleteCompListeners:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPubSubAspect").deleteCompListeners},"deleteCompListeners"),publish:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPubSubAspect").publish},"publish"),subscribe:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPubSubAspect").subscribe},"subscribe"),unsubscribe:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPubSubAspect").unsubscribe},"unsubscribe"),handleTPAMessage:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPostMessageAspect").handleTPAMessage},"handleTPAMessage"),sendPostMessage:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPostMessageAspect").sendPostMessage},"sendPostMessage"),callHandler:o(t.func,function(e){return e.siteAPI.getSiteAspect("tpaPostMessageAspect").callHandler},"callHandler")}}),define("santaProps/types/modules/PageGroupSantaTypes",["lodash","prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t,n){"use strict";return{pagesToRender:(0,n.createGlobalSantaType)(t.array,function(t){var n=e.union(t.siteData.getPrefetchPages(),t.siteData.getVisitedPages(),[t.siteData.getCurrentUrlPageId()]),r=t.siteAPI.getDisplayedDAL(),o=t.siteAPI.getPointers().page.getResolvedDataMapsPointer(),a=r.getKeys(o);return e.intersection(n,a)},"pagesToRender")}}),define("santaProps/types/modules/PageSantaTypes",["lodash","prop-types","santaComponents","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r,o){"use strict";return{markVisitedPage:(0,o.createComponentSantaType)(t.func,function(t,o){var a=r.fetch(n.santaTypesDefinitions.Component.compData,t,o);if(!e.get(a,"isPopup"))return t.siteAPI.markVisitedPage})}}),define("santaProps/types/modules/MultilingualSantaTypes",["prop-types","santaProps/utils/propsSelectorsUtils"],function(e,t){"use strict";return{currentLanguage:(0,t.createGlobalSantaType)(e.string,function(e){return e.siteData.getCurrentLanguage()},"currentLanguage")}}),define("santaProps/types/modules/SemiNativeSantaTypes",["prop-types","lodash","utils","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r){"use strict";return{queueIndex:(0,r.createComponentSantaType)(e.any,function(e,r){var o=e.siteAPI.getDisplayedDAL(),a=e.siteAPI.getPointers(),s=e.siteData.getCurrentUrlPageId(),i=r.rootId===n.siteConstants.MASTER_PAGE_ID?s:r.rootId,u=a.general.getSemiNativeQueueIndexPointer(i),c=o.get(u);return t.isNil(c)?-2:c})}}),define("santaProps/types/SantaTypes",["lodash","prop-types","utils","santaComponents","santaProps/utils/propsSelectorsUtils","santaProps/types/modules/DangerousSantaTypes","santaProps/types/modules/VerticalAnchorsMenuSantaTypes","santaProps/types/modules/BrowserSantaTypes","santaProps/types/modules/ComponentSantaTypes","santaProps/types/modules/DeviceSantaTypes","santaProps/types/modules/HtmlPostMessage","santaProps/types/modules/LinkSantaTypes","santaProps/types/modules/PinterestSantaTypes","santaProps/types/modules/MemberLoginSantaTypes","santaProps/types/modules/AnchorChangeSantaTypes","santaProps/types/modules/AppControllerSantaTypes","santaProps/types/modules/VectorImageSantaTypes","santaProps/types/modules/RenderFlagsSantaTypes","santaProps/types/modules/RenderRealtimeConfigSantaTypes","santaProps/types/modules/MobileTypes","santaProps/types/modules/NavigationTypes","santaProps/types/modules/ServiceTopologySantaTypes","santaProps/types/modules/SiteAspectsSantaTypes","santaProps/types/modules/RequestModelSantaTypes","santaProps/types/modules/PublicModelSantaTypes","santaProps/types/modules/AspectComponentSantaTypes","santaProps/types/modules/SocialShareHandlerSantaTypes","santaProps/types/modules/ActivitySantaTypes","santaProps/types/modules/BrowserFlagsSantaTypes","santaProps/types/modules/ThemeSantaTypes","santaProps/types/modules/MediaSantaTypes","santaProps/types/modules/MediaControlsSantaTypes","santaProps/types/modules/MenuSantaTypes","santaProps/types/modules/ContactFormSantaTypes","santaProps/types/modules/SiteMembersSantaTypes","santaProps/types/modules/RendererModelTypes","santaProps/types/modules/AudioSantaTypes","santaProps/types/modules/StoreSantaTypes","santaProps/types/modules/ColumnsContainerSantaTypes","santaProps/types/modules/QuickActionsSantaTypes","santaProps/types/modules/NonPageItemZoom","santaProps/types/modules/TPASantaTypes","santaProps/types/modules/PageGroupSantaTypes","santaProps/types/modules/PageSantaTypes","santaProps/types/modules/WixUserSantaTypes","santaProps/types/modules/MultilingualSantaTypes","santaProps/types/modules/SemiNativeSantaTypes"],function(e,t,n,r,o,a,s,i,u,c,p,l,d,g,f,m,y,P,h,S,A,v,I,b,T,D,C,M,w,F,U,B,R,k,L,E,G,O,x,_,j,N,V,H,Q,W,q){"use strict";var Z=o.createComponentSantaType,z=o.createGlobalSantaType,K=z(t.func,function(e){return e.siteAPI.getSiteAspect("behaviorsAspect").handleBehavior},"handleBehavior"),Y=z(t.func,function(e){return e.siteAPI.getRuntimeDal().setCompState},"setCompState"),$=z(t.func,function(e){return e.siteAPI.getRuntimeDal().setCompData},"setCompData"),X=z(t.func,function(e){return e.siteAPI.getRuntimeDal().setCompProps},"setCompProps"),J=z(t.func,function(e){return e.siteAPI.getRuntimeDal().removeCompState},"removeCompState"),ee=z(t.array,function(e){return e.siteData.getFontsMap()},"fontsMap"),te=z(t.object,function(e){return e.siteData.getGlobalImageQuality()},"globalImageQuality"),ne=z(t.string,function(e){return e.siteAPI.getDisplayedDAL().getByPath(["santaBase"])},"santaBase"),re=z(t.func,function(e){return e.siteData.onImageUnmount},"onImageUnmount"),oe=z(t.func,function(t){return e.ary(t.siteAPI.getSiteAspect("PopupPageAspect").closePopupPage,0)},"closePopupPage"),ae=z(t.func,function(e){return e.siteAPI.openPopup},"openPopup"),se=z(t.func,function(e){return e.siteAPI.scrollToAnchor},"scrollToAnchor"),ie=z(t.func,function(e){return e.siteAPI.navigateToPage},"navigateToPage"),ue=z(t.func,function(e){return e.siteAPI.passClickEvent},"passClickEvent"),ce=z(t.func,function(e){return e.siteData.getScreenWidth},"getScreenWidth"),pe=z(t.object,function(e){return e.siteData.getScreenSize()},"screenSize"),le=z(t.func,function(e){return e.siteData.getScreenHeight},"getScreenHeight"),de=z(t.func,function(e){return e.siteData.getScrollBarWidth},"getScrollBarWidth"),ge=z(t.func,function(e){return e.siteAPI.forceBackground},"forceBackground"),fe=z(t.func,function(e){return e.siteAPI.disableForcedBackground},"disableForcedBackground"),me=z(t.object,function(e){return e.siteData.currentUrl},"currentUrl"),ye=z(t.string,function(e){return e.siteData.getCurrentUrlPageId()},"currentUrlPageId"),Pe=z(t.string,function(e){return e.siteData.getCurrentPopupId()},"currentPopupId"),he=z(t.string,function(e){return e.siteData.getPrimaryPageId()},"primaryPageId"),Se=z(t.string,function(e){return e.siteData.getMainPageId()},"mainPageId"),Ae=z(t.func,function(e){return e.siteAPI.reportBeatEvent},"reportBeatEvent"),ve=z(t.func,function(e){return e.siteAPI.reportBI},"reportBI"),Ie=z(t.string,function(e){return e.siteAPI.getBiVisitorId()},"biVisitorId"),be=z(t.func,function(e){return e.siteAPI.isSiteBusy},"isSiteBusy"),Te=z(t.bool,function(e){return e.siteAPI.isZoomOpened()},"isZoomOpened"),De=z(t.bool,function(e){return e.siteData.isFacebookSite()},"isFacebookSite"),Ce=Z(t.string,function(e){return e.siteAPI.getPageUrl()}),Me=Z(t.string,function(e){return e.siteAPI.getPageUrl(!0)}),we=z(t.bool,function(e){return e.siteData.isPremiumUser()},"isPremiumUser"),Fe=z(t.bool,function(e){return e.siteData.isTemplate()},"isTemplate"),Ue=z(t.string,function(e){return e.siteData.getUrlFormat()},"urlFormat"),Be=z(t.func,function(e){return e.siteData.getMainPageUrl.bind(e.siteData)},"getMainPageUrl"),Re=z(t.func,function(e){return e.siteData.getCurrentUrl.bind(e.siteData)},"getCurrentUrl"),ke=z(t.object,function(e){return e.siteData.biData},"biData"),Le=z(t.string,function(e){return e.siteData.getOrigin()},"origin"),Ee=z(t.bool,function(e){return e.siteData.isViewerMode()},"isViewerMode"),Ge=z(t.bool,function(e){return"preview"===e.siteData.viewMode},"isPreviewMode"),Oe=z(t.func,function(e){return e.siteData.getExistingRootNavigationInfo.bind(e.siteData)},"getExistingRootNavigationInfo"),xe=z(t.func,function(e){return e.siteData.getClientSpecMapEntry.bind(e.siteData)},"getClientSpecMapEntry"),_e=z(t.func,function(e){return e.siteAPI.exitFullScreenMode},"exitFullScreenMode"),je=z(t.func,function(e){return e.siteAPI.enterFullScreenMode},"enterFullScreenMode"),Ne=z(t.func,function(e){return e.siteAPI.triggerFakeModeChange.bind(e.siteAPI)},"triggerFakeModeChange"),Ve=z(t.string,function(e){return e.siteData.wixBiSession.viewerSessionId},"viewerSessionId"),He=Z(t.bool,function(t,r){var o=t.siteData.getPageDataMap(r.rootId,t.siteData.dataTypes.DATA);return e.some(o,{appPartName:n.blogAppPartNames.SINGLE_POST})}),Qe=Z(t.object,function(e,t){return e.siteData.getPageData(t.rootId,["title"])}),We=z(t.func,function(e){return e.siteData.getUniquePageId.bind(e.siteData)},"getUniquePageId"),qe=z(t.object,function(e){return e.siteData.animations},"animations"),Ze=z(t.bool,function(e){return e.siteData.isInSSR()},"isInSSR"),ze=z(t.func,function(e){return e.siteAPI.resetCustomClickOccurred},"resetCustomClickOccurred"),Ke={__DangerousSantaTypes:a,Audio:G,TPA:N,AspectComponent:D,SocialShareHandler:C,Component:u,Browser:i,Device:c,VerticalAnchorsMenu:s,HtmlPostMessage:p,Link:l,Pinterest:d,MemberLogin:g,AnchorChange:f,AppController:m,VectorImage:y,RenderFlags:P,Activity:M,BrowserFlags:w,mobile:S,Navigation:A,SemiNative:q,Media:U,MediaControls:B,ServiceTopology:v,Theme:F,Menu:R,WixUserSantaTypes:Q,MultilingualSantaTypes:W,urlFormat:Ue,getMainPageUrl:Be,getCurrentUrl:Re,biData:ke,reportBI:ve,biVisitorId:Ie,isViewerMode:Ee,isPreviewMode:Ge,globalImageQuality:te,getScreenWidth:ce,getScreenHeight:le,screenSize:pe,getScrollBarWidth:de,forceBackground:ge,disableForcedBackground:fe,santaBase:ne,currentUrl:me,currentUrlPageId:ye,currentPopupId:Pe,isTemplate:Fe,isPremiumUser:we,Behaviors:{handleBehavior:K},DAL:{setCompState:Y,setCompData:$,setCompProps:X,removeCompState:J},Fonts:{fontsMap:ee},Images:{onImageUnmount:re},popupPage:{close:oe},popup:{open:ae},NonPageItemZoom:j,scrollToAnchor:se,navigateToPage:ie,passClickEvent:ue,isSiteBusy:be,RenderRealtimeConfig:h,RendererModel:E,RequestModel:b,PublicModel:T,isZoomOpened:Te,isFacebookSite:De,SiteAspects:I,Location:{origin:Le},primaryPageId:he,mainPageId:Se,reportBeatEvent:Ae,getExistingRootNavigationInfo:Oe,pageUrl:Ce,pageUrlWithHash:Me,getClientSpecMapEntry:xe,exitFullScreenMode:_e,enterFullScreenMode:je,Modes:{triggerFakeModeChange:Ne},staticValue:function(e,t){return Z(e,function(){return t})},ContactFormSantaTypes:k,SiteMembersSantaTypes:L,StoreSantaTypes:O,ColumnsContainer:x,QuickActions:_,viewerSessionId:Ve,isSinglePostPage:He,rootPageTitle:Qe,getUniquePageId:We,animations:qe,PageGroup:V,Page:H,viewportStates:Z(t.bool,function(t,n){var r=e.get(n,["structure","id"]);return t.siteAPI.getSiteAspect("viewportChange").get(r)},"viewportStates"),isInSSR:Ze,resetCustomClickOccurred:ze};return e.defaultsDeep({},r.santaTypesDefinitions,Ke)}),define("santaProps/utils/propsSelectorsFactory",["lodash","utils","santaProps/fetchers/fetchersUtils","santaProps/utils/santaTypesUtils","santaProps/types/SantaTypes"],function(e,t,n,r,o){"use strict";function a(t){return e.every(o.RenderRealtimeConfig,function(e){return t!==e})&&e.every(o.Component,function(e,n){return i[n]||e!==t})}function s(t){if(!c[t]){var n=r.getPropTypesByDefinition(function(e){return u[e]?{mixins:(p[e]||[]).concat([u[e]])}:{}}(t));c[t]=e.pickBy(n,function(t){return t.id||e.isFunction(t.fetch)})}return c[t]}var i={theme:!0,compDesign:!0},u={},c={},p={},l={};return t.sessionFreezer.freeze(u),{isSantaTypedComponentByName:function(t){return e.get(u,[t,"statics","useSantaTypes"],!1)},isSantaTypedComponentReactElement:function(t){return e.get(t,["constructor","useSantaTypes"],!1)},shouldObserveChanges:function(t){return!!e.get(u,[t,"statics","shouldLayout"],!1)},registerComponent:function(e,t){u[e]=t},registerComponentExtension:function(e,t){p[e]=p[e]||[],p[e].push(t),delete c[e],delete l[e]},getPropTypesForChildComponent:function(t){return e.pickBy(s(t),a)},getPropsSelectorForComponent:function(t){return u[t]?(l[t]=l[t]||function(r,o){var a=s(t);return e.mapValues(a,function(e){return e.fetch?e.fetch(r,o):n.fetch(e,r,o)})},l[t]):e.noop},getPropTypesOfComp:s}}),define("santaProps/propsBuilder/computedPropsBuilder",["lodash","mobx","coreUtils","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsFactory","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r,o,a){"use strict";function s(t){return e.invoke(t.structure,"get")||t.structure}function i(o,i,u,c){return o.fetch?function(r,o,i,u){if(a.isGlobalSantaType(r)){var c=e.get(o.siteData,["globalComputedMap"],{}),p=a.getGlobalId(r);if(c[p])return c[p];var l=t.computed(function(){try{return r.fetch(o,e.omit(i,["structure"]))}catch(e){n.log.error("Cannot fetch SantaType",p,e)}},{name:"globalSantaType_"+p});return e.set(c,p,l),l}return t.computed(function(){try{return r.fetch(o,e.defaults({structure:s(i)},i))}catch(e){n.log.error("Cannot fetch SantaType",u,i.id,e)}},{name:u+"_"+i.id,compareStructural:a.isCompareStructuralSantaType(r)})}(o,i,u,c):function(o,a,i,u){var c=r.getGlobalId(o);if(c){var p=e.get(a.siteData,["globalComputedMap"],{});if(p[c])return p[c];var l=t.computed(function(){try{return r.fetch(o,a,e.omit(i,["structure"]))}catch(e){n.log.error("Cannot fetch SantaType",c,e)}},{name:"globalSantaType_"+c});return e.set(p,c,l),l}return t.computed(function(){try{return r.fetch(o,a,e.defaults({structure:s(i)},i))}catch(e){n.log.error("Cannot fetch SantaType",u,i.id,e)}},{name:u+"_"+i.id,compareStructural:r.isCompareStructural(o)})}(o,i,u,c)}var u=new n.SiteDataPrivates,c=function(){function n(e,t){_classCallCheck(this,n);var r=s(t);this.siteData=e.siteData,this.componentType=r.componentType,this.id=t.id,this.state=e,this.getComputedProps=this.getComputedProps.bind(this),this.getChangedProps=this.getChangedProps.bind(this),this.clearChangedPropsMap=this.clearChangedPropsMap.bind(this)}return _createClass(n,[{key:"getComputedProps",value:function(n,r){var a=this;if(!r){var s=this.computedPropsFunction;if(s)return s}var u=o.getPropTypesOfComp(this.componentType),c=e.mapValues(u,function(e,t){return i(e,a.state,n,t)});return this.clearChangedPropsMap(),o.shouldObserveChanges(this.componentType)&&e.forOwn(c,function(e,n){t.observe(e,function(){a.changedProps[n]=!0})}),this.computedPropsFunction=t.computed(function(){return e.mapValues(c,function(e){return e.get()})},{name:"computedProps_"+this.id}),this.computedPropsFunction}},{key:"getChangedProps",value:function(){return this.changedProps}},{key:"clearChangedPropsMap",value:function(){this.changedProps={}}}]),n}();return{getInstance:function(t,n){var r=u.get(t.siteData)||{};r.computedPropsBuilderInstanceMap||(r.computedPropsBuilderInstanceMap={});var o=r.computedPropsBuilderInstanceMap;u.set(t.siteData,e.assign(r,{computedPropsBuilderInstanceMap:o}));var a=function(){var e=s(n);return n.rootId+"-"+e.componentType+"-"+n.id}();return o[a]||(o[a]=new c(t,n)),o[a]}}}),define("santaProps/propsBuilder/componentPropsBuilder",["lodash","santaProps/fetchers/fetchersUtils","santaProps/propsBuilder/propsBuilderUtil","santaProps/propsBuilder/computedPropsBuilder","santaProps/utils/propsSelectorsFactory"],function(e,t,n,r,o){"use strict";return{getCompProps:function(a,s,i,u,c){var p=s.getSiteData(),l=p.getExistingRootNavigationInfo(i),d={fetchSantaType:t.fetch,siteData:p,siteAPI:s},g=e.defaults({id:a.id,structure:a,rootNavigationInfo:l,rootId:i},c);if(o.isSantaTypedComponentByName(a.componentType)){var f=r.getInstance(d,g).getComputedProps(g,!0);return e.assign(f.get(),c)}var m=o.getPropsSelectorForComponent(a.componentType)(d,g),y=s.getSiteAspect("behaviorsAspect"),P=a.id,h=s.getDisplayedDAL(),S=s.getPointers(),A=S.page.getPagePointer(i),v=A&&S.components.getComponent(P,A),I=v?h.get(S.getInnerPointer(v,["dataQuery"])):a.dataQuery,b=v?h.get(S.getInnerPointer(v,["propertyQuery"])):a.propertyQuery,T=v?h.get(S.getInnerPointer(v,["designQuery"])):a.designQuery,D=v?h.get(S.getInnerPointer(v,["behaviorQuery"])):a.behaviorQuery,C=v?h.get(S.getInnerPointer(v,["styleId"])):a.styleId,M=v?h.get(S.getInnerPointer(v,["skin"])):a.skin,w=v?h.get(S.getInnerPointer(v,["layout"])):a.layout,F={viewerPrivateServices:u||{},structure:a,siteData:p,siteAPI:s,id:P,refInParent:P,pageId:i,rootId:i,currentUrlPageId:p.getCurrentUrlPageId(),rootNavigationInfo:l,styleId:n.getStyleId(C,M),skin:n.getSkin(C,M,function(e){return h.get(S.data.getThemeItem(e))}),style:n.getStyle(w,s,P,i),compProp:n.getCompProp(s,b,i),compActions:y.getActions("comp",P),compBehaviors:n.getCompBehaviors(s,b,D,i,P),compDynamicBehaviors:y.extractBehaviors(P),renderFlags:p.renderFlags};return T&&(F.compDesign=n.getCompDesign(s,T,i)),I&&(F.compData=n.getCompData(s,I,i)),e.assign(F,m,c)},getRootProps:function(r,a,s,i){var u=a.getSiteData(),c=a.getSiteAspect("behaviorsAspect"),p=a.getDisplayedDAL(),l=a.getPointers(),d=l.components.getPage(r,u.getViewMode()),g=p.get(l.getInnerPointer(d,["componentType"]))||"mobile.core.components.MasterPage",f=p.get(l.getInnerPointer(d,["propertyQuery"])),m=p.get(l.getInnerPointer(d,["styleId"])),y=p.get(l.getInnerPointer(d,["skin"])),P=p.get(l.getInnerPointer(d,["behaviorQuery"])),h=p.get(l.getInnerPointer(d,["dataQuery"])),S={viewerPrivateServices:s,componentType:g,siteData:u,siteAPI:a,id:r,key:r+"_"+u.getViewMode(),ref:r,refInParent:r,pageId:r,rootId:r,currentUrlPageId:u.getCurrentUrlPageId(),rootNavigationInfo:u.getExistingRootNavigationInfo(r),styleId:n.getStyleId(m,y),skin:n.getSkin(m,y,function(e){return p.get(l.data.getThemeItem(e))}),style:{width:"100%",height:"100%"},compProp:n.getCompProp(a,f,r),compActions:c.getActions("comp",r),compBehaviors:n.getCompBehaviors(a,f,P,r,r),compDynamicBehaviors:c.extractBehaviors(r),renderFlags:u.renderFlags};h&&(S.compData=n.getCompData(a,h,r)),S.measureMap=i;var A=o.getPropsSelectorForComponent(g)({fetchSantaType:t.fetch,siteData:u,siteAPI:a},{structure:e.get(u,["pagesData",r,"structure"]),rootNavigationInfo:S.rootNavigationInfo,rootId:r});return e.assign(S,A)}}}),define("santaProps/propsBuilder/ssrComputedPropsBuilder",["lodash","coreUtils","santaProps/fetchers/fetchersUtils","santaProps/utils/propsSelectorsFactory","santaProps/utils/propsSelectorsUtils"],function(e,t,n,r,o){"use strict";function a(t){return e.invoke(t.structure,"get")||t.structure}function s(s,i){var u=a(i),c=r.getPropTypesOfComp(u.componentType);return e.mapValues(c,function(r,u){return r.fetch?function(n,r,s,i){if(o.isGlobalSantaType(n)){var u=o.getGlobalId(n);try{return n.fetch(s,e.omit(i,["structure"]))}catch(e){t.log.error("Cannot fetch SantaType",u,e)}}else try{return n.fetch(s,e.defaults({structure:a(i)},i))}catch(e){t.log.error("Cannot fetch SantaType",r,i.id,e)}}(r,u,s,i):function(r,o,s,i){var u=n.getGlobalId(r);if(u)try{return n.fetch(r,s,e.omit(i,["structure"]))}catch(e){t.log.error("Cannot fetch SantaType",u,e)}else try{return n.fetch(r,s,e.defaults({structure:a(i)},i))}catch(e){t.log.error("Cannot fetch SantaType",o,i.id,e)}}(r,u,s,i)})}return{getSsrProps:s}}),define("santaProps",["lodash","santaProps/utils/propsSelectorsUtils","santaProps/propsBuilder/componentPropsBuilder","santaProps/propsBuilder/ssrComputedPropsBuilder","santaProps/propsBuilder/computedPropsBuilder","santaProps/propsBuilder/propsBuilderUtil","santaProps/fetchers/fetchersUtils","santaProps/types/SantaTypes","santaProps/utils/santaTypesUtils","santaProps/utils/propsSelectorsFactory"],function(e,t,n,r,o,a,s,i,u,c){"use strict";return{componentPropsBuilder:n,ssrComputedPropsBuilder:r,computedPropsBuilder:o,propsBuilderUtil:a,santaTypesUtils:u,propsSelectorsFactory:c,createSantaType:t.createComponentSantaType,createGlobalSantaType:t.createGlobalSantaType,fetchers:s,Types:i}});
//# sourceMappingURL=santaProps.min.js.map