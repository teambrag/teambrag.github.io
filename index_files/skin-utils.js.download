!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("lodash"),require("color"),require("coreUtilsLib"));else if("function"==typeof define&&define.amd)define(["lodash","color","coreUtilsLib"],r);else{var n="object"==typeof exports?r(require("lodash"),require("color"),require("coreUtilsLib")):r(e.lodash,e.color,e.coreUtilsLib);for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}("undefined"!=typeof self?self:this,function(e,r,n){return function(e){function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var n={};return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=2)}([function(r,n){r.exports=e},function(e,r,n){"use strict";function t(e,r,n){return E[r.type]?E[r.type](e,r.value,n):e}function a(e,r,n,a){if(n&&n[e]){return t(r,n[e],a)}return r}function o(e,r,n){var t="boxShadowToggleOn-"+e;return"false"===(r[t]||n[t])}function i(e){var r="";return p.forEach(e.replace(/px/g,"").split(" "),function(e){var n=Math.min(p.parseInt(e),99999);r+=" "+n+(0===n?"":"px")}),e=r.substring(1)}function u(e,r){var n=e.split("color_");return 2===n.length&&(e=r[p.parseInt(n[1])]),p.includes(e,",")&&!p.includes(e,"rgb")&&(e="rgba("+e+")"),_(e)}function s(e,r,n,t){var a=Array.isArray(n[r])&&n[r][0],o="alpha-"+(a||r),i=p.isUndefined(t[o])?n[o]:t[o];return p.isUndefined(i)||(e=E.alpha(e,parseFloat(i))),e}function c(e){var r=p.parseInt(e).toString();return e=e.toString(),isNaN(r)||e===r?"":e.substr(e.indexOf(r)+r.length)}function f(e,r,n){var t=p.isUndefined(r[e])?n[e]:r[e];if(!p.isArray(t))return t;if(1===t.length)return r[t[0]]||n[t[0]];var a="";return t=p.reduce(t,function(e,t){var o=r[t]||n[t];return a=a||c(o),e+p.parseInt(o)},0),"x"===a&&(a="px"),t+a}function l(e,r,n,t,c){if(!r.params)return"";var l=I(r.params[e]),p=f(e,n,r.paramsDefaults);if(void 0===p||!l)return"";switch(l){case"BG_COLOR":case"COLOR":case"COLOR_ALPHA":p=u(p,t),p=s(p,e,r.paramsDefaults,n);break;case"BORDER_RADIUS":n[e]&&(p=i(p));break;case"BOX_SHADOW":if(o(e,n,r.paramsDefaults))return""}return p=a(e,p,r.paramsMutators,c),{type:l,value:p}}var p=n(0),_=n(4),O=n(5),I=O.checkIsParamAnAliasAndGetUnaliasedValue,E={brightness:function(e,r){return e.value(r*e.hsv().v)},alpha:function(e,r){return e.alpha(r*e.alpha())},decrease:function(e,r){return p.parseInt(e)-p.parseInt(r)},increase:function(e,r){return p.parseInt(e)+p.parseInt(r)},multiply:function(e,r){return p.parseInt(e)*parseFloat(r)},max:function(e,r){return Math.max(p.parseInt(e),p.parseInt(r))},eval:function(e,r,n){return n[r](e)}};e.exports={renderParam:l}},function(e,r,n){"use strict";e.exports={createSkinCss:n(3),renderParam:n(1).renderParam}},function(e,r,n){"use strict";function t(e){return isNaN(e)?e:e+"px"}function a(e,r,n,a){var o=a.renderingEnv;if(p.isNil(e))return"";switch(r){case"BORDER_RADIUS":e="border-radius:"+e+";";break;case"BOX_SHADOW":e="box-shadow:"+t(e)+";";break;case"FONT":e="font:"+O.fontToCSSWithoutColor(e,n);break;case"FONT_FAMILY":e="font-family:"+O.getFullFontFamily(e)+";";break;case"SIZE":e=t(e);break;case"COLOR":e=e.hexString();break;case"BG_COLOR":case"COLOR_ALPHA":e=e.alpha()>0?e.rgbaString():"transparent";break;case"TRANSITION":e="transition: "+e+";";break;case"INVERTED_ZOOM":e="zoom: "+o.siteZoomRatio+";";break;case"INVERTED_ZOOM_FIXED":e="zoom: "+o.invertedZoomRatio+";";break;case"ORIENTATION_ZOOM_FIX":e="zoom: "+o.orientationZoomFix+";";break;case"ZOOM_BY_SCREEN_PROPERTIES":e="zoom: "+o.mobileZoom+";";break;case"URL":return"BASE_THEME_DIRECTORY"===e?o.baseThemeUrl:"WEB_THEME_DIRECTORY"===e?o.webThemeUrl:e;case"ALPHA":break;case"BORDER_SIDES":case"ICON_TYPE":e=""}return e}function o(e,r,n,t,o){var i=_.renderParam(e,r,n,t.color,o.evals),u="SIZE"===i.type&&p.isString(i.value)?p.map(i.value.split(" "),function(e){return{value:e,type:"SIZE"}}):[i];return p.map(u,function(e){return a(e.value,e.type,t,o)})}function i(e,r,n,t,o){return e.replace(/\[(.*?)\]/g,function(e,i){var u=_.renderParam(i,r,n,t.color,o.evals);return a(u.value,u.type,t,o)})}function u(e,r,n,t,a){return e.replace(/calc\(\[([\w\d]+)\] ([-+*\/]) \[([\w\d]+)\]\)/g,function(e,i,u,s){for(var c=o(i,r,n,t,a),f=o(s,r,n,t,a),l=p.template("calc(${p1} ${sign} ${p2})"),_=[],O=0;O<Math.max(c.length,f.length);O++)_.push(l({p1:c[O]||c[0],p2:f[O]||f[0],sign:u}));return _.join(" ")})}function s(e,r){return e.replace(/((-webkit-)?animation(-name)?: ?)/gim,"$1"+r+"_")}function c(e,r,n,t){return e.mediaQueries&&e.mediaQueries.length?p.map(e.mediaQueries,function(e){var a=l({css:e.css},r,n,t);return[e.query,"{",a,"}"].join("")}).join("\n"):""}function f(e,r,n,t,a){return p.map(e.css,function(o,c){var f="@"===c[0]?t+"_":"."+t;return c=c.replace(/%/g,f),o=u(o,e,r,n,a),o=i(o,e,r,n,a),o=s(o,t),c+" {"+o+"}"}).join("\n")}function l(e,r,n,t){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{evals:{}};return f(e,r,n,t,a)+c(e,r,n,t,a)}var p=n(0),_=n(1),O=n(6);e.exports=l},function(e,n){e.exports=r},function(e,r,n){"use strict";var t=n(0),a=["BORDER_SIZE","BORDER_TOP_SIZE","BORDER_BOTTOM_SIZE","BORDER_LEFT_SIZE","BORDER_RIGHT_SIZE","PADDING_SIZE","PADDING_TOP_SIZE","PADDING_BOTTOM_SIZE","PADDING_LEFT_SIZE","PADDING_RIGHT_SIZE","MARGIN_SIZE","MARGIN_TOP_SIZE","MARGIN_BOTTOM_SIZE","MARGIN_LEFT_SIZE","MARGIN_RIGHT_SIZE","BG_SIZE","WIDTH_SIZE","HEIGHT_SIZE","TOP_SIZE","BOTTOM_SIZE","LEFT_SIZE","RIGHT_SIZE","TEXT_SIZE"],o=["TEXT_COLOR","BORDER_COLOR"],i=["BORDER_COLOR_ALPHA","BOX_SHADOW_COLOR_ALPHA","TEXT_COLOR_LEGACY_ALPHA"],u=["BG_COLOR_ALPHA"],s={};t.forEach(a,function(e){s[e]="SIZE"}),t.forEach(o,function(e){s[e]="COLOR"}),t.forEach(i,function(e){s[e]="COLOR_ALPHA"}),t.forEach(u,function(e){s[e]="BG_COLOR"});var c=function(e){return s[e]?s[e]:e};e.exports={checkIsParamAnAliasAndGetUnaliasedValue:c,PARAM_ALIAS_MAP:s,SIZE_ALIASES:a,COLOR_ALIASES:o,COLOR_ALPHA_ALIASES:i,BG_COLOR_ALIASES:u}},function(e,r,n){"use strict";function t(e){var r=e,n=c.getFontFallback(e);return n&&(r=r+","+n),r=r.replace(/[^,]*[^\w,\d\-][^,]*/g,function(e){return"'"+e.replace(/\+/g," ")+"'"})}function a(e){var r=e;u.includes(r,"#")&&(r=r.slice(0,r.indexOf("#"))),r=r.replace(/\{color_\d+\}/,"");var n=c.getFontFamily(r),a=t(n);return r.replace(n,a)+";"}function o(e,r){if(u.startsWith(e,"font_")){var n=e.split("font_");if(2===n.length)return r.font[n[1]]}return e}function i(e,r){return a(o(e,r))}var u=n(0),s=n(7),c=s.fonts;e.exports={fontToCSSWithoutColor:i,getFullFontFamily:t}},function(e,r){e.exports=n}])});
//# sourceMappingURL=skin-utils.js.map